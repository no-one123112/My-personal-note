<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙÙƒØ±ØªÙŠ Ø§Ù„ÙƒÙŠÙˆØª Ø§Ù„Ù…Ø·ÙˆØ±Ø© âœ¨</title>
    <style>
        :root {
            --bg-pattern: radial-gradient(#ffb7c5 0.5px, #fff5f8 0.5px);
            --accent: #ffb7c5;
            --font-color: #5d4037;
        }

        body {
            background-image: var(--bg-pattern);
            background-size: 20px 20px;
            color: var(--font-color);
            font-family: 'Cairo', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: 0.3s;
        }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .toolbar {
            background: white;
            padding: 15px;
            border-radius: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            align-items: center;
            width: 90%;
            max-width: 700px;
        }

        .tool-group { display: flex; align-items: center; gap: 8px; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ÙˆØªØ© */
        .notebook-wrapper {
            position: relative;
            width: 90%;
            max-width: 600px;
            height: 500px;
        }

        .diary-page {
            width: 100%;
            height: 100%;
            background: #fff;
            border-radius: 10px;
            border-left: 40px solid var(--accent);
            box-shadow: 10px 10px 0px rgba(0,0,0,0.05);
            padding: 20px;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
        }

        textarea {
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            resize: none;
            font-size: 1.3rem;
            color: var(--font-color);
            background: repeating-linear-gradient(transparent, transparent 30px, #eee 31px);
            line-height: 31px;
            font-family: inherit;
        }

        /* Ù…Ù„ØµÙ‚Ø§Øª */
        .stickers-shelf {
            margin-top: 15px;
            background: rgba(255,255,255,0.8);
            padding: 10px;
            border-radius: 50px;
            display: flex;
            gap: 15px;
            font-size: 2rem;
        }

        .sticker { cursor: grab; transition: 0.2s; user-select: none; }
        .sticker:active { cursor: grabbing; }

        .placed-sticker {
            position: absolute;
            font-size: 2.5rem;
            cursor: move;
            z-index: 10;
        }

        button {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
        }

        input[type="color"] {
            border: none;
            width: 30px;
            height: 30px;
            cursor: pointer;
            background: none;
        }
    </style>
</head>
<body>

    <div class="toolbar">
        <div class="tool-group">
            <span>Ø§Ù„Ø«ÙŠÙ…:</span>
            <button onclick="updateTheme('#ffb7c5', '#fff5f8')">ğŸŒ¸</button>
            <button onclick="updateTheme('#90caf9', '#e3f2fd')">â˜ï¸</button>
            <button onclick="updateTheme('#c5e1a5', '#f1f8e9')">ğŸƒ</button>
        </div>
        
        <div class="tool-group">
            <span>Ù„ÙˆÙ† Ø§Ù„Ø®Ø·:</span>
            <input type="color" id="textColor" value="#5d4037" onchange="updateTextColor(this.value)">
        </div>

        <button onclick="saveAll()">Ø­ÙØ¸ Ø§Ù„ÙƒÙ„ ğŸ’¾</button>
        <button onclick="reset()" style="background:#ff6b6b">ØªØµÙÙŠØ± ğŸ—‘ï¸</button>
    </div>

    <div class="notebook-wrapper" id="canvas">
        <div class="diary-page">
            <textarea id="mainNote" placeholder="Ø§ÙƒØªØ¨ ÙŠÙˆÙ…ÙŠØ§ØªÙƒ Ù‡Ù†Ø§..."></textarea>
        </div>
    </div>

    <div class="stickers-shelf">
        <div class="sticker" draggable="true" ondragstart="drag(event)">ğŸ€</div>
        <div class="sticker" draggable="true" ondragstart="drag(event)">ğŸ±</div>
        <div class="sticker" draggable="true" ondragstart="drag(event)">ğŸ“</div>
        <div class="sticker" draggable="true" ondragstart="drag(event)">ğŸ§¸</div>
        <div class="sticker" draggable="true" ondragstart="drag(event)">ğŸ’–</div>
        <div class="sticker" draggable="true" ondragstart="drag(event)">ğŸ­</div>
    </div>

    <p style="font-size: 0.8rem; margin-top: 10px;">* Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ØµÙ‚Ø§Øª ÙˆØ¶Ø¹Ù‡Ø§ ÙÙˆÙ‚ Ø§Ù„Ù†ÙˆØªØ© Ù„ØªØ²ÙŠÙŠÙ†Ù‡Ø§!</p>

    <script>
        // ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ…
        function updateTheme(accent, bg) {
            document.documentElement.style.setProperty('--accent', accent);
            document.documentElement.style.setProperty('--bg-pattern', `radial-gradient(${accent} 0.5px, ${bg} 0.5px)`);
        }

        // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ø·
        function updateTextColor(color) {
            document.documentElement.style.setProperty('--font-color', color);
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ù„Ù„Ù…Ù„ØµÙ‚Ø§Øª
        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.innerText);
        }

        const canvas = document.getElementById('canvas');
        canvas.ondragover = (e) => e.preventDefault();
        
        canvas.ondrop = (ev) => {
            ev.preventDefault();
            const data = ev.dataTransfer.getData("text");
            const sticker = document.createElement("div");
            sticker.className = "placed-sticker";
            sticker.innerText = data;
            
            const rect = canvas.getBoundingClientRect();
            sticker.style.left = (ev.clientX - rect.left - 20) + "px";
            sticker.style.top = (ev.clientY - rect.top - 20) + "px";
            
            // Ø¬Ø¹Ù„ Ø§Ù„Ù…Ù„ØµÙ‚ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ­Ø±ÙŠÙƒ Ø£ÙŠØ¶Ø§Ù‹ Ø£Ùˆ Ø§Ù„Ø­Ø°Ù
            sticker.onclick = () => sticker.remove();
            
            canvas.appendChild(sticker);
        };

        function saveAll() {
            alert("ØªÙ… Ø­ÙØ¸ Ø¥Ø¨Ø¯Ø§Ø¹Ø§ØªÙƒ ÙŠØ§ Ø¨Ø·Ù„! âœ¨");
            // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø­ÙØ¸ Ø§Ù„Ù€ HTML ÙƒØ§Ù…Ù„Ø§Ù‹ ÙÙŠ localStorage
        }

        function reset() {
            if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ù…Ù„ØµÙ‚Ø§ØªØŸ")) {
                document.getElementById('mainNote').value = "";
                document.querySelectorAll('.placed-sticker').forEach(s => s.remove());
            }
        }
    </script>
</body>
</html>
